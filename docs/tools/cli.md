# Apollo Universal Starter Kit CLI

Apollo Universal Starter Kit encourages modularizing your application. It's best to design each feature as a decoupled module to make sure that deleting a feature module won't affect the application. 

To help you create and delete new modules, the starter kit comes with a Command Line Interface (CLI).

You can view the help guide on using the CLI with by running:

```
cd apollo-universal-starter-kit
yarn cli
```

In the command line, you'll see suggestions how to use the CLI, what commands are available, and what optional parameters you can pass to commands.

## Scaffolding Feature Modules with a Custom CLI

### Basic Scaffolding of a Feature Module

You can do basic scaffolding of a feature module using the following command:

```
yarn cli addmodule <moduleName> <parameter>
```

The `addmodule` command will create all the files for a new feature module `moduleName`.

You can also pass an optional parameter `client` or `server`. If you want to generate only a client-side or a server-side module, pass the parameter `client` or `server` respectively.If no parameter was passed, the CLI will create modules for both the server and the client.  

The following command will generate only a client-side module `UserProfile`:

```
yarn cli addmodule UserProfile client
```

Similarly, you can generate only a server-side module with `yarn cli addmodule UserProfile server`.

The client-side modules are generated into the `packages/client/src/modules/moduleName/` directory, and the server-side modules are created under `packages/server/src/modules/moduleName/`. 

### Deleting an Existing Module

If you need to delete an existing module, run:

```bash
yarn cli deletemodule <moduleName> <parameter>
```

Using an optional parameter, you can specify either `client` or `server` to delete only a client-side or server-side 
module respectively.

**NOTE**: If you're going to remove all the demo modules, you should still leave at least one module on the server side. If you remove all the modules before creating a new module, you'll get an error `TypeError: Cannot read property 'schema' of undefined` on the server.

## Running the CLI with Various Options

* If you want to see the CLI help, you can run one of the following commands:

```bash
yarn cli
yarn cli -h
yarn cli --help
```

* To view the current CLI version, run `yarn cli` with `-V` or `--version` parameter:

```bash
yarn cli -V
yarn cli --version
```

* The output generated by the CLI is colored by default. You can turn off the colors by running:

```bash
yarn cli --no-color
```

* To view only warning and error messages when the CLI is working, run:

```bash
yarn cli --quiet
```

* If you want to view the debug messages when using the CLI, run:

```bash
yarn cli -v
yarn cli --verbose
```