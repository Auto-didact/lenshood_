# Entity
type Referral {
  id: Int
  referredUser: User
  createdAt: String
  updatedAt: String
}

extend type Query {
  referrals(userId: Int): [Referral]
}

extend type Mutation {
  addReferred(input: AddReferralInput!): Referral
}

input AddReferralInput {
  userId: Int
  referral: String!
  referredId: Int
}

extend type Subscription {
  referredUserUpdated(id: Int!): UpdateReferredUserPayload
}

type UpdateReferredUserPayload {
  mutation: String!
  id: Int!
  node: Referral!
}
